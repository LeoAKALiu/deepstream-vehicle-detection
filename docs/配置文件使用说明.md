# é…ç½®æ–‡ä»¶ä½¿ç”¨è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

ç³»ç»Ÿå·²å®ç°ç»Ÿä¸€çš„YAMLé…ç½®æ–‡ä»¶ç®¡ç†ï¼Œæ”¯æŒä»¥ä¸‹é…ç½®é¡¹ï¼š
- ç½‘ç»œé…ç½®ï¼ˆCassia IPã€æ‘„åƒå¤´IDï¼‰
- æ£€æµ‹å‚æ•°ï¼ˆç½®ä¿¡åº¦é˜ˆå€¼ã€IoUé˜ˆå€¼ã€æ¨¡å‹è·¯å¾„ï¼‰
- è·Ÿè¸ªå‚æ•°ï¼ˆè·Ÿè¸ªIoUé˜ˆå€¼ã€æœ€å¤§æ¶ˆå¤±å¸§æ•°ï¼‰
- æ–‡ä»¶è·¯å¾„ï¼ˆç™½åå•ã€æ—¥å¿—ã€å…±äº«ç¼“å†²åŒºç­‰ï¼‰
- æ·±åº¦æµ‹é‡å‚æ•°ï¼ˆèŒƒå›´ã€æ–¹æ³•ç­‰ï¼‰
- æ—¥å¿—é…ç½®
- æ€§èƒ½ç›‘æ§é…ç½®
- é”™è¯¯æ¢å¤é…ç½®
- æ˜¾ç¤ºé…ç½®

## ğŸ“ é…ç½®æ–‡ä»¶ä½ç½®

é»˜è®¤é…ç½®æ–‡ä»¶ï¼š`config.yaml`ï¼ˆé¡¹ç›®æ ¹ç›®å½•ï¼‰

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### 1. ä½¿ç”¨é»˜è®¤é…ç½®

```bash
python3 test_system_realtime.py
```

ç³»ç»Ÿä¼šè‡ªåŠ¨åŠ è½½ `config.yaml`ã€‚

### 2. æŒ‡å®šé…ç½®æ–‡ä»¶

```bash
python3 test_system_realtime.py --config /path/to/custom_config.yaml
```

### 3. å‘½ä»¤è¡Œå‚æ•°è¦†ç›–é…ç½®

å‘½ä»¤è¡Œå‚æ•°ä¼˜å…ˆçº§é«˜äºé…ç½®æ–‡ä»¶ï¼š

```bash
# ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œä½†è¦†ç›–Cassia IP
python3 test_system_realtime.py --cassia-ip 192.168.1.100

# ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œä½†è¦†ç›–æ¨¡å‹è·¯å¾„
python3 test_system_realtime.py --engine models/another_model.engine
```

## âš™ï¸ é…ç½®é¡¹è¯´æ˜

### ç½‘ç»œé…ç½®

```yaml
network:
  cassia_ip: "192.168.1.2"    # Cassiaè“ç‰™è·¯ç”±å™¨IP
  camera_id: "camera_01"      # æ‘„åƒå¤´ID
```

### æ£€æµ‹å‚æ•°

```yaml
detection:
  conf_threshold: 0.5          # æ£€æµ‹ç½®ä¿¡åº¦é˜ˆå€¼ (0.0-1.0)
  iou_threshold: 0.4           # NMSçš„IoUé˜ˆå€¼ (0.0-1.0)
  model_path: "models/custom_yolo.engine"  # æ¨¡å‹æ–‡ä»¶è·¯å¾„
```

### è·Ÿè¸ªå‚æ•°

```yaml
tracking:
  iou_threshold: 0.3           # è·Ÿè¸ªåŒ¹é…çš„IoUé˜ˆå€¼ (0.0-1.0)
  max_age: 30                  # è·Ÿè¸ªæ¶ˆå¤±çš„æœ€å¤§å¸§æ•°
```

### æ–‡ä»¶è·¯å¾„

```yaml
paths:
  beacon_whitelist: "beacon_whitelist.yaml"
  log_file: "/tmp/vehicle_detection.log"
  alert_log_file: "/tmp/vehicle_alerts.json"
  shared_frame_file: "/tmp/orbbec_shared_frame.npy"
  shared_depth_file: "/tmp/orbbec_shared_depth.npy"
```

### æ·±åº¦æµ‹é‡å‚æ•°

```yaml
depth:
  min_range: 0.1               # æœ€å°æ·±åº¦èŒƒå›´ï¼ˆç±³ï¼‰
  max_range: 10.0              # æœ€å¤§æ·±åº¦èŒƒå›´ï¼ˆç±³ï¼‰
  method: "median"             # æµ‹é‡æ–¹æ³•: median/mean/min
  invalid_min: 0               # æ— æ•ˆæ·±åº¦æœ€å°å€¼ï¼ˆæ¯«ç±³ï¼‰
  invalid_max: 65535           # æ— æ•ˆæ·±åº¦æœ€å¤§å€¼ï¼ˆæ¯«ç±³ï¼‰
```

## ğŸ”§ é…ç½®éªŒè¯

ç³»ç»Ÿå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨éªŒè¯é…ç½®ï¼š
- é˜ˆå€¼èŒƒå›´æ£€æŸ¥ï¼ˆ0.0-1.0ï¼‰
- æ·±åº¦èŒƒå›´æ£€æŸ¥ï¼ˆmin < maxï¼‰
- æ–¹æ³•æœ‰æ•ˆæ€§æ£€æŸ¥

å¦‚æœé…ç½®æ— æ•ˆï¼Œä¼šæ˜¾ç¤ºè­¦å‘Šå¹¶ä½¿ç”¨é»˜è®¤å€¼ã€‚

## ğŸ“ é…ç½®ç¤ºä¾‹

### é«˜ç²¾åº¦æ£€æµ‹é…ç½®

```yaml
detection:
  conf_threshold: 0.7          # æé«˜ç½®ä¿¡åº¦é˜ˆå€¼ï¼Œå‡å°‘è¯¯æ£€
  iou_threshold: 0.3           # é™ä½IoUé˜ˆå€¼ï¼Œæ›´ä¸¥æ ¼çš„NMS
```

### å¿«é€Ÿæ£€æµ‹é…ç½®

```yaml
detection:
  conf_threshold: 0.3          # é™ä½ç½®ä¿¡åº¦é˜ˆå€¼ï¼Œæ£€æµ‹æ›´å¤šç›®æ ‡
  iou_threshold: 0.5           # æé«˜IoUé˜ˆå€¼ï¼Œæ›´å®½æ¾çš„NMS
```

### é•¿è·ç¦»è·Ÿè¸ªé…ç½®

```yaml
tracking:
  iou_threshold: 0.2           # é™ä½è·Ÿè¸ªé˜ˆå€¼ï¼Œæ›´å®¹æ˜“åŒ¹é…
  max_age: 60                 # å¢åŠ æ¶ˆå¤±å¸§æ•°ï¼Œè·Ÿè¸ªæ›´æŒä¹…
```

## ğŸ”„ é…ç½®æ›´æ–°

ä¿®æ”¹ `config.yaml` åï¼Œéœ€è¦é‡å¯ç¨‹åºæ‰èƒ½ç”Ÿæ•ˆã€‚

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `config.yaml` - é…ç½®æ–‡ä»¶æ¨¡æ¿
- `python_apps/config_loader.py` - é…ç½®åŠ è½½æ¨¡å—
- `ç¡¬ç¼–ç å‚æ•°åˆ—è¡¨.md` - æ‰€æœ‰å¯é…ç½®å‚æ•°åˆ—è¡¨

---

**æœ€åæ›´æ–°**: 2024å¹´11æœˆ4æ—¥

